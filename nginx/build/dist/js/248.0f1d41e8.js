"use strict";(self["webpackChunkpikolo_vuejs"]=self["webpackChunkpikolo_vuejs"]||[]).push([[248],{8248:function(a,s,e){e.r(s),e.d(s,{default:function(){return x}});e(4114);var t=e(641),i=e(33);const o={class:"body"},n={class:"container"},l={class:"login-wrapper"},c={class:"logo"},r={class:"tab-menu"};function d(a,s,e,d,u,p){const v=(0,t.g2)("LoginForm"),b=(0,t.g2)("SocialLogin");return(0,t.uX)(),(0,t.CE)("div",o,[(0,t.Lk)("div",n,[(0,t.Lk)("div",l,[(0,t.Lk)("div",c,[(0,t.Lk)("h1",{onClick:s[0]||(s[0]=s=>a.$router.push("/"))},"PIKOLO")]),(0,t.Lk)("div",r,[(0,t.Lk)("div",{class:(0,i.C4)("login"===u.activeTab?"tab active":"tab"),onClick:s[1]||(s[1]=a=>p.setActiveTab("login"))},"로그인",2),(0,t.Lk)("div",{class:(0,i.C4)("social"===u.activeTab?"tab active":"tab"),onClick:s[2]||(s[2]=a=>p.setActiveTab("social"))},"소셜 로그인 ",2)]),(0,t.bF)(v,{activeTab:u.activeTab},null,8,["activeTab"]),(0,t.bF)(b,{activeTab:u.activeTab},null,8,["activeTab"])])])])}function u(a,s,e,o,n,l){return(0,t.uX)(),(0,t.CE)("div",{class:"login-form",style:(0,i.Tr)("social"===e.activeTab?"display: block;":"display: none;")},s[0]||(s[0]=[(0,t.Fv)('<div class="social-login" data-v-51da05ee><strong data-v-51da05ee>아직 미구현</strong><button class="social-btn facebook" data-v-51da05ee><span class="social-icon" data-v-51da05ee>f</span><span data-v-51da05ee>Facebook 계정으로 로그인</span></button><button class="social-btn google" data-v-51da05ee><span class="social-icon" data-v-51da05ee>G</span><span data-v-51da05ee>Google 계정으로 로그인</span></button><button class="social-btn naver" data-v-51da05ee><span class="social-icon" data-v-51da05ee>N</span><span data-v-51da05ee>Naver 계정으로 로그인</span></button></div>',1)]),4)}var p={name:"SocialLogin",props:{activeTab:{type:String,required:!0}},data(){return{}},methods:{}},v=e(6262);const b=(0,v.A)(p,[["render",u],["__scopeId","data-v-51da05ee"]]);var g=b,k=e(3751);const m={class:"input-group"},h={class:"input-group"},L={id:"output"},f={class:"bottom-links"},T={class:"signup-container"};function y(a,s,e,o,n,l){const c=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)("div",{class:"login-form",style:(0,i.Tr)("login"===e.activeTab?"display: block;":"display: none;")},[(0,t.Lk)("div",m,[(0,t.bo)((0,t.Lk)("input",{type:"text",placeholder:"이메일",class:"input-field","onUpdate:modelValue":s[0]||(s[0]=a=>n.userEmail=a),ref:"emailInput",onKeyup:s[1]||(s[1]=(0,k.jR)(((...a)=>l.login&&l.login(...a)),["enter"]))},null,544),[[k.Jo,n.userEmail]])]),(0,t.Lk)("div",h,[(0,t.bo)((0,t.Lk)("input",{type:"password",placeholder:"비밀번호",class:"input-field","onUpdate:modelValue":s[2]||(s[2]=a=>n.userPassword=a),ref:"passwordInput",onKeyup:s[3]||(s[3]=(0,k.jR)(((...a)=>l.login&&l.login(...a)),["enter"]))},null,544),[[k.Jo,n.userPassword]])]),s[8]||(s[8]=(0,t.Lk)("div",{class:"checkbox-group"},[(0,t.Lk)("label",{class:"checkbox-label"},[(0,t.Lk)("input",{type:"checkbox",class:"checkbox"}),(0,t.eW)(" 아이디 저장 ")])],-1)),(0,t.Lk)("div",L,(0,i.v_)(n.msg),1),(0,t.Lk)("button",{onClick:s[4]||(s[4]=a=>l.login()),class:"login-btn"},s[5]||(s[5]=[(0,t.Lk)("span",null,"로그인",-1)])),(0,t.Lk)("div",f,[(0,t.Lk)("div",T,[(0,t.bF)(c,{to:"/signup",class:"signup"},{default:(0,t.k6)((()=>s[6]||(s[6]=[(0,t.eW)("회원가입")]))),_:1,__:[6]})]),s[7]||(s[7]=(0,t.Lk)("div",{class:"searchAcc-container"},[(0,t.Lk)("a",{href:"#"},"비밀번호 찾기")],-1))])],4)}var w=e(6433),E=e(4335),_={name:"LoginForm",props:{activeTab:{type:String,required:!0}},data(){return{userEmail:"",userPassword:"",msg:""}},methods:{login(){return this.msg="",this.userEmail?this.validateEmail(this.userEmail)?this.userPassword?void E.A.post("/api/user/login",{userEmail:this.userEmail,userPassword:this.userPassword}).then((a=>{alert("로그인 성공!"),w.A.commit("setAccount",a.data),console.log("로그인 성공:",a.data),this.$router.push("/")})).catch((a=>{a.response&&401===a.response.status?this.msg="이메일 또는 비밀번호가 올바르지 않습니다.":this.msg="로그인 중 오류가 발생했습니다."})):(this.msg="비밀번호를 입력해주세요.",void this.$nextTick((()=>{this.$refs.passwordInput.focus()}))):void(this.msg="올바른 이메일 형식을 입력해주세요."):(this.msg="이메일을 입력해주세요.",void this.$nextTick((()=>{this.$refs.emailInput.focus()})))},validateEmail(a){const s=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return s.test(a)}}};const C=(0,v.A)(_,[["render",y],["__scopeId","data-v-e4dfec06"]]);var A=C,F={name:"Login",components:{SocialLogin:g,LoginForm:A},data(){return{activeTab:"login"}},methods:{setActiveTab(a){this.activeTab=a}},mounted(){}};const I=(0,v.A)(F,[["render",d],["__scopeId","data-v-80642e22"]]);var x=I}}]);
//# sourceMappingURL=248.0f1d41e8.js.map