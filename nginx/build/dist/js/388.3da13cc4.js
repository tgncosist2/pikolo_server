"use strict";(self["webpackChunkpikolo_vuejs"]=self["webpackChunkpikolo_vuejs"]||[]).push([[388],{81:function(t,e,n){var r=n(9565),o=n(9306),i=n(8551),a=n(6823),s=n(851),c=TypeError;t.exports=function(t,e){var n=arguments.length<2?s(t):e;if(o(n))return i(r(n,t));throw new c(a(t)+" is not iterable")}},397:function(t,e,n){var r=n(7751);t.exports=r("document","documentElement")},679:function(t,e,n){var r=n(1625),o=TypeError;t.exports=function(t,e){if(r(e,t))return t;throw new o("Incorrect invocation")}},851:function(t,e,n){var r=n(6955),o=n(5966),i=n(4117),a=n(6269),s=n(8227),c=s("iterator");t.exports=function(t){if(!i(t))return o(t,c)||o(t,"@@iterator")||a[r(t)]}},1072:function(t,e,n){var r=n(1828),o=n(8727);t.exports=Object.keys||function(t){return r(t,o)}},1767:function(t){t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},2106:function(t,e,n){var r=n(283),o=n(4913);t.exports=function(t,e,n){return n.get&&r(n.get,e,{getter:!0}),n.set&&r(n.set,e,{setter:!0}),o.f(t,e,n)}},2140:function(t,e,n){var r=n(8227),o=r("toStringTag"),i={};i[o]="z",t.exports="[object z]"===String(i)},2211:function(t,e,n){var r=n(9039);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},2360:function(t,e,n){var r,o=n(8551),i=n(6801),a=n(8727),s=n(421),c=n(397),l=n(4055),u=n(6119),f=">",p="<",d="prototype",m="script",v=u("IE_PROTO"),h=function(){},g=function(t){return p+m+f+t+p+"/"+m+f},b=function(t){t.write(g("")),t.close();var e=t.parentWindow.Object;return t=null,e},k=function(){var t,e=l("iframe"),n="java"+m+":";return e.style.display="none",c.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(g("document.F=Object")),t.close(),t.F},y=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}y="undefined"!=typeof document?document.domain&&r?b(r):k():b(r);var t=a.length;while(t--)delete y[d][a[t]];return y()};s[v]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(h[d]=o(t),n=new h,h[d]=null,n[v]=t):n=y(),void 0===e?n:i.f(n,e)}},2652:function(t,e,n){var r=n(6080),o=n(9565),i=n(8551),a=n(6823),s=n(4209),c=n(6198),l=n(1625),u=n(81),f=n(851),p=n(9539),d=TypeError,m=function(t,e){this.stopped=t,this.result=e},v=m.prototype;t.exports=function(t,e,n){var h,g,b,k,y,L,x,I=n&&n.that,w=!(!n||!n.AS_ENTRIES),C=!(!n||!n.IS_RECORD),T=!(!n||!n.IS_ITERATOR),F=!(!n||!n.INTERRUPTED),E=r(e,I),S=function(t){return h&&p(h,"normal"),new m(!0,t)},O=function(t){return w?(i(t),F?E(t[0],t[1],S):E(t[0],t[1])):F?E(t,S):E(t)};if(C)h=t.iterator;else if(T)h=t;else{if(g=f(t),!g)throw new d(a(t)+" is not iterable");if(s(g)){for(b=0,k=c(t);k>b;b++)if(y=O(t[b]),y&&l(v,y))return y;return new m(!1)}h=u(t,g)}L=C?t.next:h.next;while(!(x=o(L,h)).done){try{y=O(x.value)}catch(A){p(h,"throw",A)}if("object"==typeof y&&y&&l(v,y))return y}return new m(!1)}},2787:function(t,e,n){var r=n(9297),o=n(4901),i=n(8981),a=n(6119),s=n(2211),c=a("IE_PROTO"),l=Object,u=l.prototype;t.exports=s?l.getPrototypeOf:function(t){var e=i(t);if(r(e,c))return e[c];var n=e.constructor;return o(n)&&e instanceof n?n.prototype:e instanceof l?u:null}},4209:function(t,e,n){var r=n(8227),o=n(6269),i=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},4549:function(t,e,n){var r=n(4576);t.exports=function(t,e){var n=r.Iterator,o=n&&n.prototype,i=o&&o[t],a=!1;if(i)try{i.call({next:function(){return{done:!0}},return:function(){a=!0}},-1)}catch(s){s instanceof e||(a=!1)}if(!a)return i}},4659:function(t,e,n){var r=n(3724),o=n(4913),i=n(6980);t.exports=function(t,e,n){r?o.f(t,e,i(0,n)):t[e]=n}},6080:function(t,e,n){var r=n(7476),o=n(9306),i=n(616),a=r(r.bind);t.exports=function(t,e){return o(t),void 0===e?t:i?a(t,e):function(){return t.apply(e,arguments)}}},6269:function(t){t.exports={}},6388:function(t,e,n){n.r(e),n.d(e,{default:function(){return D}});var r=n(641),o=n(3751),i=n(33);const a={class:"suggestion-page"},s={class:"container"},c={class:"suggestion-form-container"},l={class:"form-group"},u={class:"form-group"},f={class:"char-count"},p={class:"form-group"},d={class:"editor-container"},m={class:"editor-toolbar"},v={class:"form-help-with-counter"},h={class:"char-count"},g={class:"form-group"},b={class:"image-upload-area"},k={key:0,class:"image-preview-container"},y={class:"image-preview-list"},L=["src","alt"],x=["onClick"],I={class:"image-name"},w={class:"form-group"},C={class:"form-actions"},T=["disabled"],F={key:0},E={key:1};function S(t,e,n,S,O,A){return(0,r.uX)(),(0,r.CE)("div",a,[(0,r.Lk)("div",s,[e[30]||(e[30]=(0,r.Lk)("div",{class:"suggestion-header"},[(0,r.Lk)("h1",{class:"page-title"},"건의사항"),(0,r.Lk)("p",{class:"page-subtitle"},"소중한 의견을 들려주세요")],-1)),(0,r.Lk)("div",c,[(0,r.Lk)("form",{onSubmit:e[16]||(e[16]=(0,o.D$)(((...t)=>A.submitSuggestion&&A.submitSuggestion(...t)),["prevent"])),class:"suggestion-form"},[(0,r.Lk)("div",l,[e[18]||(e[18]=(0,r.Lk)("label",{for:"category",class:"form-label"},[(0,r.eW)("카테고리 "),(0,r.Lk)("span",{class:"required"},"*")],-1)),(0,r.bo)((0,r.Lk)("select",{id:"category","onUpdate:modelValue":e[0]||(e[0]=t=>O.form.category=t),class:"form-select",required:""},e[17]||(e[17]=[(0,r.Fv)('<option value="" data-v-3a3f1781>카테고리를 선택해주세요</option><option value="feature" data-v-3a3f1781>기능 제안</option><option value="bug" data-v-3a3f1781>버그 신고</option><option value="improvement" data-v-3a3f1781>개선 사항</option><option value="ui" data-v-3a3f1781>UI/UX</option><option value="etc" data-v-3a3f1781>기타</option>',6)]),512),[[o.u1,O.form.category]])]),(0,r.Lk)("div",u,[e[19]||(e[19]=(0,r.Lk)("label",{for:"title",class:"form-label"},[(0,r.eW)("제목 "),(0,r.Lk)("span",{class:"required"},"*")],-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"title","onUpdate:modelValue":e[1]||(e[1]=t=>O.form.title=t),class:"form-input",placeholder:"건의사항 제목을 입력해주세요",maxlength:"100",required:""},null,512),[[o.Jo,O.form.title]]),(0,r.Lk)("div",f,(0,i.v_)(O.form.title.length)+"/100",1)]),(0,r.Lk)("div",p,[e[25]||(e[25]=(0,r.Lk)("label",{for:"content",class:"form-label"},[(0,r.eW)("내용 "),(0,r.Lk)("span",{class:"required"},"*")],-1)),(0,r.Lk)("div",d,[(0,r.Lk)("div",m,[(0,r.Lk)("button",{type:"button",onClick:e[2]||(e[2]=t=>A.formatText("bold")),class:(0,i.C4)([{active:A.isFormatActive("bold")},"toolbar-btn"])},e[20]||(e[20]=[(0,r.Lk)("strong",null,"B",-1)]),2),(0,r.Lk)("button",{type:"button",onClick:e[3]||(e[3]=t=>A.formatText("italic")),class:(0,i.C4)([{active:A.isFormatActive("italic")},"toolbar-btn"])},e[21]||(e[21]=[(0,r.Lk)("em",null,"I",-1)]),2),(0,r.Lk)("button",{type:"button",onClick:e[4]||(e[4]=t=>A.formatText("underline")),class:(0,i.C4)([{active:A.isFormatActive("underline")},"toolbar-btn"])},e[22]||(e[22]=[(0,r.Lk)("u",null,"U",-1)]),2),e[23]||(e[23]=(0,r.Lk)("div",{class:"toolbar-separator"},null,-1)),(0,r.Lk)("button",{type:"button",onClick:e[5]||(e[5]=t=>A.formatText("insertUnorderedList")),class:"toolbar-btn"}," • 목록 "),(0,r.Lk)("button",{type:"button",onClick:e[6]||(e[6]=t=>A.formatText("insertOrderedList")),class:"toolbar-btn"}," 1. 목록 ")]),(0,r.Lk)("div",{ref:"editor",class:"rich-text-editor",contenteditable:"true",onInput:e[7]||(e[7]=(...t)=>A.updateContent&&A.updateContent(...t)),onKeyup:e[8]||(e[8]=(...t)=>A.updateContent&&A.updateContent(...t)),onPaste:e[9]||(e[9]=(...t)=>A.handlePaste&&A.handlePaste(...t)),placeholder:"건의사항 내용을 자세히 작성해주세요..."},null,544)]),(0,r.Lk)("div",v,[e[24]||(e[24]=(0,r.Lk)("span",null,"구체적인 내용을 작성해주시면 더 빠른 처리가 가능합니다.",-1)),(0,r.Lk)("span",h,(0,i.v_)(A.currentCharCount)+"/500",1)])]),(0,r.Lk)("div",g,[e[27]||(e[27]=(0,r.Lk)("label",{for:"images",class:"form-label"},"첨부 이미지",-1)),(0,r.Lk)("div",b,[(0,r.Lk)("input",{type:"file",id:"images",ref:"fileInput",onChange:e[10]||(e[10]=(...t)=>A.handleFileUpload&&A.handleFileUpload(...t)),multiple:"",accept:"image/*",class:"file-input"},null,544),(0,r.Lk)("div",{class:"upload-zone",onClick:e[11]||(e[11]=(...t)=>A.triggerFileInput&&A.triggerFileInput(...t)),onDrop:e[12]||(e[12]=(...t)=>A.handleDrop&&A.handleDrop(...t)),onDragover:e[13]||(e[13]=(0,o.D$)((()=>{}),["prevent"]))},e[26]||(e[26]=[(0,r.Lk)("div",{class:"upload-icon"},"📷",-1),(0,r.Lk)("div",{class:"upload-text"},[(0,r.Lk)("p",null,"이미지를 드래그하거나 클릭하여 업로드"),(0,r.Lk)("small",null,"PNG, JPG, GIF 파일 지원 (최대 5MB, 최대 3개)")],-1)]),32)]),O.uploadedImages.length>0?((0,r.uX)(),(0,r.CE)("div",k,[(0,r.Lk)("div",y,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(O.uploadedImages,((t,e)=>((0,r.uX)(),(0,r.CE)("div",{key:e,class:"image-preview-item"},[(0,r.Lk)("img",{src:t.url,alt:t.name,class:"preview-image"},null,8,L),(0,r.Lk)("button",{type:"button",onClick:t=>A.removeImage(e),class:"remove-image-btn"}," × ",8,x),(0,r.Lk)("div",I,(0,i.v_)(t.name),1)])))),128))])])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",w,[e[28]||(e[28]=(0,r.Lk)("label",{for:"contact",class:"form-label"},"연락처 (선택사항)",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"contact","onUpdate:modelValue":e[14]||(e[14]=t=>O.form.contact=t),class:"form-input",placeholder:"답변을 받고 싶은 이메일이나 연락처를 입력해주세요"},null,512),[[o.Jo,O.form.contact]]),e[29]||(e[29]=(0,r.Lk)("div",{class:"form-help"},"답변이 필요한 경우에만 입력해주세요.",-1))]),(0,r.Lk)("div",C,[(0,r.Lk)("button",{type:"button",onClick:e[15]||(e[15]=(...t)=>A.resetForm&&A.resetForm(...t)),class:"btn btn-secondary"}," 초기화 "),(0,r.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:O.isSubmitting},[O.isSubmitting?((0,r.uX)(),(0,r.CE)("span",F,"제출 중...")):((0,r.uX)(),(0,r.CE)("span",E,"건의사항 제출"))],8,T)])],32)])])])}n(4114),n(8111),n(7588);var O={name:"Suggestion",computed:{currentCharCount(){return this.form.content&&this.$refs.editor?.innerText?.length||0}},data(){return{form:{category:"",title:"",content:"",contact:""},uploadedImages:[],isSubmitting:!1}},methods:{updateContent(){const t=this.$refs.editor.innerText||"";t.length>500&&(this.$refs.editor.innerText=t.slice(0,500),document.execCommand("selectAll",!1,null),document.getSelection().collapseToEnd()),this.form.content=this.$refs.editor.innerHTML},formatText(t){document.execCommand(t,!1,null),this.$refs.editor.focus(),this.updateContent()},isFormatActive(t){return document.queryCommandState(t)},handlePaste(t){t.preventDefault();const e=t.clipboardData.getData("text/plain");document.execCommand("insertText",!1,e)},triggerFileInput(){this.$refs.fileInput.click()},handleFileUpload(t){const e=t.target.files;this.processFiles(e)},handleDrop(t){t.preventDefault();const e=t.dataTransfer.files;this.processFiles(e)},processFiles(t){this.uploadedImages.length+t.length>3?alert("최대 3개의 이미지만 업로드 가능합니다."):Array.from(t).forEach((t=>{if(t.size>5242880)return void alert(`${t.name}은(는) 5MB를 초과합니다.`);if(!t.type.startsWith("image/"))return void alert(`${t.name}은(는) 이미지 파일이 아닙니다.`);const e=new FileReader;e.onload=e=>{this.uploadedImages.push({file:t,url:e.target.result,name:t.name})},e.readAsDataURL(t)}))},removeImage(t){this.uploadedImages.splice(t,1)},async submitSuggestion(){if(this.validateForm()){this.isSubmitting=!0;try{const t=new FormData;t.append("category",this.form.category),t.append("title",this.form.title),t.append("content",this.form.content),t.append("contact",this.form.contact),this.uploadedImages.forEach(((e,n)=>{t.append(`images[${n}]`,e.file)})),setTimeout((()=>{alert("건의사항이 성공적으로 제출되었습니다!"),this.resetForm(),this.isSubmitting=!1}),1e3)}catch(t){console.error("건의사항 제출 실패:",t),alert("건의사항 제출에 실패했습니다. 다시 시도해주세요."),this.isSubmitting=!1}}},validateForm(){return this.form.category?this.form.title.trim()?!!this.form.content.trim()||(alert("내용을 입력해주세요."),!1):(alert("제목을 입력해주세요."),!1):(alert("카테고리를 선택해주세요."),!1)},resetForm(){this.form={category:"",title:"",content:"",contact:""},this.uploadedImages=[],this.$refs.editor.innerHTML="",this.$refs.fileInput&&(this.$refs.fileInput.value="")}}},A=n(6262);const j=(0,A.A)(O,[["render",S],["__scopeId","data-v-3a3f1781"]]);var D=j},6801:function(t,e,n){var r=n(3724),o=n(8686),i=n(4913),a=n(8551),s=n(5397),c=n(1072);e.f=r&&!o?Object.defineProperties:function(t,e){a(t);var n,r=s(e),o=c(e),l=o.length,u=0;while(l>u)i.f(t,n=o[u++],r[n]);return t}},6955:function(t,e,n){var r=n(2140),o=n(4901),i=n(2195),a=n(8227),s=a("toStringTag"),c=Object,l="Arguments"===i(function(){return arguments}()),u=function(t,e){try{return t[e]}catch(n){}};t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=u(e=c(t),s))?n:l?i(e):"Object"===(r=i(e))&&o(e.callee)?"Arguments":r}},7476:function(t,e,n){var r=n(2195),o=n(9504);t.exports=function(t){if("Function"===r(t))return o(t)}},7588:function(t,e,n){var r=n(6518),o=n(9565),i=n(2652),a=n(9306),s=n(8551),c=n(1767),l=n(9539),u=n(4549),f=u("forEach",TypeError);r({target:"Iterator",proto:!0,real:!0,forced:f},{forEach:function(t){s(this);try{a(t)}catch(r){l(this,"throw",r)}if(f)return o(f,this,t);var e=c(this),n=0;i(e,(function(e){t(e,n++)}),{IS_RECORD:!0})}})},7657:function(t,e,n){var r,o,i,a=n(9039),s=n(4901),c=n(34),l=n(2360),u=n(2787),f=n(6840),p=n(8227),d=n(6395),m=p("iterator"),v=!1;[].keys&&(i=[].keys(),"next"in i?(o=u(u(i)),o!==Object.prototype&&(r=o)):v=!0);var h=!c(r)||a((function(){var t={};return r[m].call(t)!==t}));h?r={}:d&&(r=l(r)),s(r[m])||f(r,m,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:v}},8111:function(t,e,n){var r=n(6518),o=n(4576),i=n(679),a=n(8551),s=n(4901),c=n(2787),l=n(2106),u=n(4659),f=n(9039),p=n(9297),d=n(8227),m=n(7657).IteratorPrototype,v=n(3724),h=n(6395),g="constructor",b="Iterator",k=d("toStringTag"),y=TypeError,L=o[b],x=h||!s(L)||L.prototype!==m||!f((function(){L({})})),I=function(){if(i(this,m),c(this)===m)throw new y("Abstract class Iterator not directly constructable")},w=function(t,e){v?l(m,t,{configurable:!0,get:function(){return e},set:function(e){if(a(this),this===m)throw new y("You can't redefine this property");p(this,t)?this[t]=e:u(this,t,e)}}):m[t]=e};p(m,k)||w(k,b),!x&&p(m,g)&&m[g]!==Object||w(g,I),I.prototype=m,r({global:!0,constructor:!0,forced:x},{Iterator:I})},9539:function(t,e,n){var r=n(9565),o=n(8551),i=n(5966);t.exports=function(t,e,n){var a,s;o(t);try{if(a=i(t,"return"),!a){if("throw"===e)throw n;return n}a=r(a,t)}catch(c){s=!0,a=c}if("throw"===e)throw n;if(s)throw a;return o(a),n}}}]);
//# sourceMappingURL=388.3da13cc4.js.map